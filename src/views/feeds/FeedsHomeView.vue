<script setup>

</script>

<template>
  <div class="feed-page">

    <!-- ìƒë‹¨ ë²„íŠ¼ë§Œ ìˆëŠ” ì‹¬í”Œ ë°” -->
    <div class="feed-top-bar">
      <div class="feed-top-left">
        ğŸ“· í”¼ë“œ
      </div>

      <el-button type="primary" @click="goToWrite">
        í”¼ë“œ ë“±ë¡í•˜ê¸°
      </el-button>
    </div>

    <!-- 4ì—´ ê·¸ë¦¬ë“œ(ìŠ¬ë¼ì´ìŠ¤ ëŠë‚Œ) -->
    <div
        class="feed-grid"
        v-infinite-scroll="loadMore"
        infinite-scroll-disabled="isLoading || isEnd"
        infinite-scroll-distance="200"
    >
      <div
          v-for="feed in feeds"
          :key="feed.id"
          class="feed-card"
      >
        <div class="feed-card__thumb">
          <img :src="feed.thumbnailUrl" :alt="feed.title" />
        </div>

        <div class="feed-card__body">
          <div class="feed-card__title">
            {{ feed.title }}
          </div>

          <div class="feed-card__footer">
            <div class="feed-card__user">
              <div class="feed-card__user-avatar">
                <img :src="feed.userProfile" alt="" />
              </div>
              <span>{{ feed.userName }}</span>
            </div>

            <div class="feed-card__likes">
              â¤ï¸ {{ feed.likeCount }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ë¡œë”© / ë -->
    <div v-if="isLoading" class="feed-loading">
      ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
    </div>
    <p v-if="isEnd" class="feed-end">
      ë§ˆì§€ë§‰ í”¼ë“œì…ë‹ˆë‹¤.
    </p>

  </div>
</template>

<style src="@/assets/styles/feeds.css" />

<style scoped>

</style>